
/*
tweetnacl-js v1.0.3
https://github.com/dchest/tweetnacl-js
Copyright (c) 2014-2021 Dmitry Chestnykh
Licensed under the ISC license
*/
!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.nacl=e()}):"object"==typeof exports?module.exports=e():t.nacl=e()}(this,function(){"use strict";var t={};function e(t,e){for(var n=0;n<e.length;n++)t[n]=e[n]}function n(t,e,n,r){var i=new Uint8Array(e.length);return C(i,t,e,n,r),i}function r(t,e){for(var n=0;n<t.length;n++)e[n]=t[n]}function i(t){var e=new Uint8Array(t.length);return r(t,e),e}var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[210,131,239,94,46,146,177,178,131,5,159,103,205,229,144,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function s(t,e){return t-e}function u(t,e,n){for(var r=new Float64Array(16),o=0;o<16;o++)r[o]=t[o],e[o]=0;e[n]=1;for(o=0;o<16;o++){var a=e[o];e[o]=0;for(var u=r[o],c=o-n>=0?o-n:o-n+16,l=o;l<16;l++){var f=e[l];e[l]=(e[l]+a*A[c--]+u*A[o-l+15>=0?o-l+15:o-l+15+16])%p;c<0&&(c=15)}for(l=0;l<o;l++){var f=e[l];e[l]=(e[l]+a*A[c--]+u*A[o-l+15>=0?o-l+15:o-l+15+16])%p;c<0&&(c=15)}}for(o=0;o<16;o++)r[o]=e[o];e[0]=e[16]=0;for(o=0;o<16;o++){var u=r[o];e[o]=e[o]-L(u*r[16])*I;var c=o-16>=0?o-16:o-16+16;e[o+1]=e[o+1]-L(u*r[16])*T[c]-L(u*r[0])*I;c=o-0>=0?o-0:o-0+16;e[o+1]=e[o+1]-L(u*r[16])*T[c]-L(u*r[0])*T[c]}for(o=0;o<16;o++){var a=e[o];e[o]=0;for(var u=r[o],c=o-n>=0?o-n:o-n+16,l=o;l<16;l++){var f=e[l];e[l]=(e[l]+a*A[c--]+u*A[o-l+15>=0?o-l+15:o-l+15+16])%p;c<0&&(c=15)}for(l=0;l<o;l++){var f=e[l];e[l]=(e[l]+a*A[c--]+u*A[o-l+15>=0?o-l+15:o-l+15+16])%p;c<0&&(c=15)}}for(o=0;o<16;o++)r[o]=e[o];e[0]=e[16]=0;for(o=0;o<16;o++){var u=r[o];e[o]=e[o]-L(u*r[16])*I;var c=o-16>=0?o-16:o-16+16;e[o+1]=e[o+1]-L(u*r[16])*T[c]-L(u*r[0])*I;c=o-0>=0?o-0:o-0+16;e[o+1]=e[o+1]-L(u*r[16])*T[c]-L(u*r[0])*T[c]}var v=new Float64Array(32);for(o=0;o<16;o++)v[o]=r[o],v[o+16]=e[o];return v}function c(t,e){return(t%e+e)%e}function l(t,e){var n=new Float64Array(16);return y(n,t),y(n,e),n}function f(t,e){var n=new Float64Array(16);return g(n,t),g(n,e),n}function v(t,e){var n=new Float64Array(16);return b(n,t),b(n,e),n}function h(t,e,n){var r=new Float64Array(16);return y(r,e),g(r,n),b(r,t),r}function d(t){var e=new Float64Array(16);return y(e,t),e}function p(t){var e=new Float64Array(16);return g(e,t),e}function m(t){var e=new Float64Array(16);return b(e,t),e}function w(t){var e,n=new Float64Array(16);for(e=0;e<16;e++)n[e]=t[e];return F(n),F(n),F(n),F(n),F(n),F(n),F(n),F(n),F(n),F(n),n}function y(t,e){var n,r;for(n=0;n<16;n++)t[n]+=e[n];return t}function g(t,e){var n,r,o,a;for(o=0;o<16;o++)t[o]%=65536;for(o=0;o<16;o++){for(a=0,n=0;n<=o;n++)a+=t[n]*S[o-n];for(n=o+1;n<16;n++)a+=38*t[n]*S[o+16-n];t[o]=a}for(o=0;o<16;o++)t[o]%=65536;for(o=0;o<16;o++){for(a=0,n=0;n<=o;n++)a+=e[n]*S[o-n];for(n=o+1;n<16;n++)a+=38*e[n]*S[o+16-n];t[o]+=a}return y(t,t),t}function b(t,e){var n,r,o,a;for(o=0;o<16;o++)t[o]%=65536;for(o=0;o<16;o++){for(a=0,n=0;n<=o;n++)a+=t[n]*S[o-n];for(n=o+1;n<16;n++)a+=38*t[n]*S[o+16-n];t[o]=a}for(o=0;o<16;o++)t[o]%=65536;for(o=0;o<16;o++){for(a=0,n=0;n<=o;n++)a+=e[n]*S[o-n];for(n=o+1;n<16;n++)a+=38*e[n]*S[o+16-n];t[o]=a*S[0]+t[o]}return y(t,t),t}function S(t){var e,n=new Float64Array(16);for(e=0;e<16;e++)n[e]=A[e];for(e=0;e<16;e++){var r=n[e];n[e]=0;for(var o=A[e],a=e-t>=0?e-t:e-t+16,s=e;s<16;s++){var u=n[s];n[s]=(n[s]+r*S[a--]+o*S[e-s+15>=0?e-s+15:e-s+15+16])%65536;a<0&&(a=15)}for(s=0;s<e;s++){var u=n[s];n[s]=(n[s]+r*S[a--]+o*S[e-s+15>=0?e-s+15:e-s+15+16])%65536;a<0&&(a=15)}}return n}function F(t){for(var e,n=0;n<16;n++)t[n]%=65536;for(var r=0;r<16;r++){for(e=0;e<16;e++)t[r]+=t[e]*A[Math.abs(r-e)];t[r]%=65536}return t}function B(t,e){var n,r=0;for(n=0;n<16;n++)r+=t[n]*e[n];return r%65536}function _(t){for(var e,n=0,r=new Float64Array(16);n<16;n++)r[n]=t[n];var o=function(t){var e,n,r=new Float64Array(32);for(e=0;e<32;e++)r[e]=0;for(e=0;e<16;e++)for(n=0;n<16;n++)r[e+n]+=t[e]*k[n];return r}(r),a=function(t){var e,n,r=new Float64Array(32);for(e=0;e<32;e++)r[e]=0;for(e=0;e<16;e++)for(n=0;n<16;n++)r[e+n]+=t[e]*E[n];return r}(r);for(n=0;n<16;n++)o[n+16]+=a[n];for(n=0;n<15;n++)o[n+1]+=o[n+16]%65536*k[1],o[n+16]=Math.floor(o[n+16]/65536);for(n=0;n<16;n++)r[n]=o[n]%65536;return r}function x(t,e){var n,r=0;for(n=0;n<16;n++)r+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(r)}function A(t,e,n,r){var i,o,a,s;if(n<0)return-1;for(s=new Uint8Array(2*n),i=0;i<2*n;i++)s[i]=0;for(i=0;i<n;i++)s[i]=e[i];for(i=0;i<n;i++)s[i+n]=t[i];var u=S(s);for(i=0;i<n;i++)t[i]=u[i];for(i=0;i<n;i++)e[i]=u[i+n];for(var c=0;c<2*n;c++)u[c]=0;var l=0;if(r){var f=new Uint8Array(r.length);for(i=0;i<r.length;i++)f[i]=r[i];for(i=0;i<r.length;i++)if(0!==f[i]){l=i;break}if(r.length-l<n)return-1;var v=new Uint8Array(r.length-l);for(i=0;i<r.length-l;i++)v[i]=f[i+l];var h=S(v);for(i=0;i<n;i++)e[i]^=h[i]}for(var d=new Uint8Array(n),p=new Uint8Array(n),m=new Uint8Array(n),w=new Uint8Array(n);n>=O;){var y=new Uint8Array(n-O);for(i=0;i<n-O;i++)y[i]=e[i+O];var g=S(y);for(i=0;i<O;i++)p[i]=e[i]^g[i];for(i=0;i<O;i++)m[i]=t[i]^g[i+O];var b=S(m);for(i=0;i<O;i++)w[i]=p[i]^b[i+O];for(i=0;i<O;i++)d[i]=t[i+O]^b[i];var F=S(w);for(i=0;i<O;i++)t[i]=m[i]^F[i];for(i=0;i<O;i++)e[i]=p[i]^F[i+O];var B=S(d);for(i=0;i<O;i++)t[i+O]=g[i]^B[i+O];for(i=0;i<O;i++)e[i+O]=y[i]^B[i];n-=2*O}return 0}function C(t,n,i,o,a){var s,u,c=new Uint8Array(32),l=new Uint8Array(32);for(e(l,a),l[0]&=248,l[31]&=127,l[31]|=64,R(c,l,i),D(c,c),r(t,n),M(t,c),u=0;u<t.length;u++)t[u]=0;for(s=0;s<64;s++){var f=H(n,s);e(l,a),P(l,f),R(c,l,i),M(t,c)}}var k=[52200,60634,45542,56828,50106,47820,44798,40502,48870,58718,50060,54002,46192,49950,56950,53580],E=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=19,O=16,N=(t.randomBytes=function(t){var e=new Uint8Array(t);return crypto.getRandomValues(e),e},t.scalarMult=function(t,e,n){var i=new Uint8Array(32),o=new Uint8Array(32),a=new Uint8Array(32),s=new Uint8Array(32),u=new Uint8Array(32),c=new Uint8Array(32);return r(i,n),U(i),r(o,t),r(a,e),J(s,u,o,i),K(c,a,s,u),Q(c),c}),T=(t.scalarMult.base=function(t,e){return N(t,e,a)},t.box={publicKeyLength:32,secretKeyLength:32,sharedKeyLength:32,nonceLength:24,overheadLength:16});function q(t,e,n,i,o,a){var s,u,c,l,f=new Uint8Array(32);for(T.before(f,a,o),s=0;s<32;s++)f[s]^=n[s];var v=new Uint8Array(e.length);return r(v,e),A(v,f,v.length,i),v}function R(t,e,n){var i,o,a,s,u=new Float64Array(16);for(s=0;s<16;s++)u[s]=0;for(s=0;s<32;s++)t[s]=0;for(i=0;i<32;i++)e[i]|=0;for(i=0;i<32;i++)n[i]|=0;for(var c=n.length,l=0;l<c;l+=16){for(var f=l+16<c?16:c-l,v=0;v<f;v++)u[v]+=n[l+v];var h=u[0]+65536*(u[1]+65536*(u[2]+65536*(u[3]+65536*(u[4]+65536*(u[5]+65536*(u[6]+65536*u[7]))))));u[0]=106+h%4294967296,u[1]=Math.floor(h/4294967296),h=u[2]+Math.floor(h/18446744073709552e3),u[2]=h%4294967296,u[3]+=Math.floor(h/4294967296);for(v=0;v<16;v++)u[v]+=e[v];g(u,k),g(u,u),y(u,E);for(o=0;o<2;o++){var d=0;for(a=0;a<16;a++)d+=(u[a]%65536+Math.floor(u[a]/65536))%65536;for(u[0]+=d-2*u[0]%65536,a=0;a<15;a++)u[a+1]+=Math.floor(u[a]/65536);u[0]%=65536,u[15]+=38*Math.floor(u[14]/65536)}for(s=0;s<16;s++){t[2*s]=u[s]%256,t[2*s+1]=Math.floor(u[s]/256);var p=0;for(v=0;v<16;v++)p+=u[v];p-=u[s],p*=I,u[s]=(u[s]+p)%65536}}function L(t,e,n){if(32!==t.length)throw new Error("bad secret key size");if(32!==e.length)throw new Error("bad public key size");var i=N(t,e);return U(i),i}function D(t,e){for(var n=0;n<32;n++)e[n]|=0;for(var r=e.length,o=0;o<r;o+=16){for(var a=o+16<r?16:r-o,s=0;s<a;s++)t[s]+=e[o+s];g(t,k),g(t,t),y(t,E)}}function M(t,e){for(var n=0;n<32;n++)e[n]|=0;var r=0;for(n=0;n<t.length;n++)r+=t[n],t[n]=r%256,r=Math.floor(r/256);for(n=0;n<32;n++){var i=e[n]+r%256;t[n]^=i%256,r=Math.floor(i/256)+Math.floor(r/256)}}T.keyPair=function(t,e){var n=new Uint8Array(32),i=new Uint8Array(32);return N.randomBytes(n),r(t,n),r(e,a),N(e,t,e),{publicKey:i,secretKey:n}},T.keyPair.fromSecretKey=function(t,e){var n=new Uint8Array(32);return r(t,e),N(n,t,a),n},T.before=L,T.after=q,T.openAfter=function(t,e,n,i,o){var a,s,u,c,l=new Uint8Array(32);for(T.before(l,o,i),a=0;a<32;a++)l[a]^=n[a];var f=new Uint8Array(e.length);r(f,e);var v=A(f,l,f.length,t);return v<0?null:f},T.nonceLength=24,T.overheadLength=16,t.box=function(t,e,n,i,o,a){var s=new Uint8Array(32);T.before(s,a,o);var u=new Uint8Array(t.length+T.overheadLength);return r(u,T.overheadLength,t),q(u,u,s,e,n,i),u},t.box.open=function(e,n,i,o,a,s){var u=new Uint8Array(32);T.before(u,s,a);var c=new Uint8Array(e.length-T.overheadLength);return T.openAfter(c,e,n,i,o,u,T.overheadLength)?c:null};var P=t.sign={publicKeyLength:32,secretKeyLength:64,signatureLength:64};function H(t,e){var n,r,i=new Uint8Array(64);for(n=0;n<64;n++)i[n]=0;for(n=0;n<32;n++)i[n]=t[n];var o=new Uint8Array(32);for(n=0;n<32;n++)o[n]=a[n];for(n=0;n<e;n++)o=N(o,i.subarray(0,32),o);for(var s=new Uint8Array(32),u=0;u<32;u++)s[u]=i[u+32];var c=new Uint8Array(64);for(r=0;r<32;r++)c[r]=o[r],c[r+32]=s[r];return c}function J(t,e,n,i){var o,a,s,u;for(r(t,n),r(e,i),o=0;o<32;o++)t[o]|=0,e[o]|=0;var c=new Float64Array(16);for(o=0;o<16;o++)c[o]=0;for(o=0;o<32;o++)c[Math.floor(o/2)]+=t[o]*Math.pow(256,o%2);var l=new Float64Array(16);for(o=0;o<16;o++)l[o]=0;for(o=0;o<32;o++)l[Math.floor(o/2)]+=e[o]*Math.pow(256,o%2);var f=u(c,l,0),v=f.subarray(0,16),h=f.subarray(16,32),d=w(v),p=w(h);for(o=0;o<16;o++)t[2*o]=d[o]%256,t[2*o+1]=Math.floor(d[o]/256),e[2*o]=p[o]%256,e[2*o+1]=Math.floor(p[o]/256)}function K(t,e,n,i){var o,a,s,u;for(r(t,n),r(e,i),o=0;o<32;o++)t[o]|=0,e[o]|=0;var c=new Float64Array(16);for(o=0;o<16;o++)c[o]=0;for(o=0;o<32;o++)c[Math.floor(o/2)]+=t[o]*Math.pow(256,o%2);var l=new Float64Array(16);for(o=0;o<16;o++)l[o]=0;for(o=0;o<32;o++)l[Math.floor(o/2)]+=e[o]*Math.pow(256,o%2);var f=l[0]+65536*(l[1]+65536*(l[2]+65536*(l[3]+65536*(l[4]+65536*(l[5]+65536*(l[6]+65536*l[7]))))));if(0===f)return-1;for(var v=u(c,l,1),h=v.subarray(0,16),d=v.subarray(16,32),p=w(h),m=w(d),o=0;o<16;o++)t[2*o]=p[o]%256,t[2*o+1]=Math.floor(p[o]/256),e[2*o]=m[o]%256,e[2*o+1]=Math.floor(m[o]/256);return 0}function U(t){for(var e,n=0,i=0;i<32;i++)n|=t[i];if(0===n)throw new Error("scalar is zero");for(t[0]&=248,t[31]&=127,t[31]|=64,e=0;e<16;e++)t[e+16]=0;var o=new Float64Array(16);for(e=0;e<16;e++)o[e]=0;for(e=0;e<32;e++)o[Math.floor(e/2)]+=t[e]*Math.pow(256,e%2);var a=_(o);for(e=0;e<16;e++)t[2*e]=a[e]%256,t[2*e+1]=Math.floor(a[e]/256)}function G(t,e,n){var i,o,a,s,u=new Uint8Array(64);if(A(u,n,64,e)<0)return null;var c=new Uint8Array(32);for(r(c,0,u,32),i=0;i<32;i++)c[i]|=0;var l=0;for(i=0;i<32;i++)l|=c[i];if(0===l)return null;for(var f=u.subarray(32,64),v=new Uint8Array(32),h=new Uint8Array(32),d=new Uint8Array(32),p=new Uint8Array(32);K(v,h,t,c)<0;)return null;for(J(d,p,f,v),i=0;i<32;i++)if(d[i]!==h[i])return null;return u.subarray(0,32)}function Z(t,e,n){var i,o,a=new Uint8Array(64),s=new Uint8Array(64);for(i=0;i<64;i++)a[i]=n[i];for(i=0;i<32;i++)a[i+32]=e[i+32];var u=new Uint8Array(32);for(r(u,0,a,32),i=0;i<32;i++)u[i]|=0;var c=0;for(i=0;i<32;i++)c|=u[i];if(0===c)return-1;var l=new Uint8Array(32);for(i=0;i<32;i++)l[i]=a[i+32];var f=new Uint8Array(32),v=new Uint8Array(32),h=new Uint8Array(32),d=new Uint8Array(32);if(K(f,v,t,u)<0)return-1;for(J(h,d,l,f),i=0;i<32;i++)if(h[i]!==v[i])return-1;for(i=0;i<64;i++)s[i]=a[i];return s}function Q(t){for(var e,n=0,r=0;r<32;r++)n|=t[r];if(0===n)throw new Error("scalar is zero");var i=new Uint8Array(32);for(e=0;e<32;e++)i[e]=t[e];for(i[0]&=248,i[31]&=127,i[31]|=64,e=0;e<16;e++)i[e+16]=0;var o=new Float64Array(16);for(e=0;e<16;e++)o[e]=0;for(e=0;e<32;e++)o[Math.floor(e/2)]+=i[e]*Math.pow(256,e%2);var a=_(o);for(e=0;e<16;e++)t[2*e]=a[e]%256,t[2*e+1]=Math.floor(a[e]/256)}P.keyPair=function(t,e,n){var i=new Uint8Array(32),o=new Uint8Array(32);if(n){var a=new Uint8Array(n.length);r(a,n)}else a=N.randomBytes(32);return r(i,a),N(o,i,s),r(t,o),r(e,i),{publicKey:o,secretKey:new Uint8Array([].concat(Array.from(i),Array.from(o)))}},P.keyPair.fromSecretKey=function(t,e){var n=new Uint8Array(32),i=new Uint8Array(32);return r(i,e.subarray(0,32)),N(n,i,s),r(t,n),{publicKey:n,secretKey:new Uint8Array(e)} },P.keyPair.fromSeed=function(t,e,n){var i=new Uint8Array(32),o=new Uint8Array(32);return r(i,n.subarray(0,32)),N(o,i,s),r(t,o),{publicKey:o,secretKey:new Uint8Array([].concat(Array.from(i),Array.from(o)))}},P.detached=function(t,e,n){var r=new Uint8Array(64),i=new Uint8Array(32);return R(r,n,e),U(r.subarray(0,32)),r=r.subarray(0,32),D(i,r),M(t,i),t},P.detached.verify=function(t,e,n,r){if(64!==e.length)throw new Error("signature length is wrong");if(32!==n.length)throw new Error("public key length is wrong");var i=new Uint8Array(64),o=new Uint8Array(32);return R(i,r,t),U(i.subarray(0,32)),i=i.subarray(0,32),D(o,i),K(o,n,o,e.subarray(32,64))>=0&&G(o,e.subarray(0,32),n)?0:-1},P.signatureLength=64,P.publicKeyLength=32,P.secretKeyLength=64,P.seedLength=32,t.sign=function(t,e,n){var i=new Uint8Array(P.signatureLength+t.length);return P.detached(i,t,e,n),r(i,P.signatureLength,t),i},t.sign.open=function(t,e,n){var i=new Uint8Array(t.length-P.signatureLength);return P.detached.verify(i,t.subarray(0,P.signatureLength),e,n)?i:null};var W=t.hash=function(t){var e=new Uint8Array(64);return R(e,o,t),e.subarray(0,32)};W.hmac=function(t,e,n){var r=new Uint8Array(64),i=new Uint8Array(64);if(e.length>64){W(r,e);for(var o=0;o<64;o++)r[o]^=92;W(i,e);for(var o=0;o<64;o++)i[o]^=54}else{for(var o=0;o<e.length;o++)r[o]=e[o],i[o]=e[o];for(var o=e.length;o<64;o++)r[o]=92,i[o]=54}var a=new Uint8Array(t.length+64);for(o=0;o<64;o++)a[o]=i[o];for(o=0;o<t.length;o++)a[o+64]=t[o];var s=new Uint8Array(32);W(s,a);var u=new Uint8Array(32+64);for(o=0;o<64;o++)u[o]=r[o];for(o=0;o<32;o++)u[o+64]=s[o];return W(u,u)};var Y=t.secretbox=function(t,e,n,i){var o=new Uint8Array(32);A(o,i,32,n);var a=new Uint8Array(t.length+Y.overheadLength);return r(a,Y.overheadLength,t),q(a,a,o,n.subarray(Y.nonceLength-Y.zerobytesLength,Y.nonceLength),e,i),a};Y.zerobytesLength=32,Y.nonceLength=24,Y.overheadLength=16,Y.open=function(t,e,n,i){var o=new Uint8Array(32);A(o,i,32,n);var a=new Uint8Array(t.length-Y.overheadLength);return Y.openAfter(a,t,e,n.subarray(Y.nonceLength-Y.zerobytesLength,Y.nonceLength),i,o,Y.overheadLength)?a:null};var V=t.auth=function(t,e){var n=new Uint8Array(32);return A(n,e,32,t),n.subarray(0,16)};return V.bytes=16,V.keyBytes=32,V.verify=function(t,e,n){if(16!==t.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad key size");var r=new Uint8Array(16);A(r,n,16,e);for(var i=0,o=0;o<16;o++)i|=t[o]^r[o];return 0===i},t.verify=function(t,e){if(t.length!==e.length)return!1;for(var n=0,r=0;r<t.length;r++)n|=t[r]^e[r];return 0===n},t.options={},t.lowlevel={crypto_core_hsalsa20:R,crypto_stream_xor:q,crypto_stream:A,crypto_stream_salsa20_xor:q,crypto_stream_salsa20:A,crypto_onetimeauth:V,crypto_onetimeauth_verify:V.verify,crypto_scalarmult:N,crypto_scalarmult_base:N.base,crypto_box_beforenm:L,crypto_box_afternm:q,crypto_box_keypair:T.keyPair,crypto_box:t.box,crypto_box_open:t.box.open,crypto_secretbox:Y,crypto_secretbox_open:Y.open,crypto_sign_keypair:P.keyPair,crypto_sign:P.detached,crypto_sign_open:P.detached.verify,crypto_sign_detached:P.detached,crypto_sign_verify_detached:P.detached.verify,crypto_hash_sha512:W,encode_utf8:function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=192|i>>6,e[n++]=128|63&i):i<55296||i>=57344?(e[n++]=224|i>>12,e[n++]=128|i>>6&63,e[n++]=128|63&i):(i=65536+(1023&i<<10|1023&t.charCodeAt(++r)),e[n++]=240|i>>18,e[n++]=128|i>>12&63,e[n++]=128|i>>6&63,e[n++]=128|63&i)}return new Uint8Array(e)},decode_utf8:function(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(r<128)e+=String.fromCharCode(r);else if(r>191&&r<224)e+=String.fromCharCode((31&r)<<6|63&t[++n]);else if(r>239&&r<365){var i=((7&r)<<18|(63&t[++n])<<12|(63&t[++n])<<6|63&t[++n])-65536;e+=String.fromCharCode(55296+(i>>10)),e+=String.fromCharCode(56320+(1023&i))}else e+=String.fromCharCode((15&r)<<12|(63&t[++n])<<6|63&t[++n])}return e},encode_base64:function(t){for(var e="",n=t.length,r=n-n%3,i=0;i<r;i+=3){var o=t[i]<<16|t[i+1]<<8|t[i+2];e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&o)}return n%3==1?(o=t[r],e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>2&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o<<4&63)+"=="):n%3==2&&(o=t[r]<<8|t[r+1],e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>10&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>4&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o<<2&63)+"="),e},decode_base64:function(t){var e,n,r,i,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=t.length,u=[];if(s%4!=0)throw new Error("Invalid base64 string");for(e=0;e<s;e+=4)i=a.indexOf(t[e]),o=a.indexOf(t[e+1]),n=a.indexOf(t[e+2]),r=a.indexOf(t[e+3]),u.push(i<<2|o>>4),64!==n&&u.push((15&o)<<4|n>>2),64!==r&&u.push((3&n)<<6|r);return new Uint8Array(u)},gf:u,pack:F,unpack:w,reduce:_,scalarbase:N.base,add:J,scalar_times_base:J,sub:K,mul:N,ge_add:J,ge_sub:K,ge_scalarmult:N,ge_double_scalarmult:function(t,e,n,i){var o=new Uint8Array(32),a=new Uint8Array(32),s=new Uint8Array(32),u=new Uint8Array(32),c=new Uint8Array(32);return r(o,i),U(o),r(a,n),r(s,e),J(u,c,a,o),J(u,c,u,s),Q(u),u},D:S,M:y,R:p,S:b,Z:m,X:d,A:h,pow25519:_,inv25519:function(t){var e,n=new Float64Array(16);for(e=0;e<16;e++)n[e]=t[e];var r=new Float64Array(16);for(e=0;e<16;e++)r[e]=0;for(r[0]=1,e=255;e>=0;e--)g(r,r),0!==(255&Math.floor(e/1))&&g(r,n);return r},par25519:function(t){var e=new Uint8Array(32);F(t);var n=new Float64Array(16);return inv25519(t,n),e[0]=B(t,S(1))%2,e},is_negative:function(t){return 1&t[0]},is_on_curve:function(t){var e=new Float64Array(16),n=new Float64Array(16),r=new Float64Array(16),i=new Float64Array(16);F(t);var o=B(t,t);return w(e,t),w(n,e),w(r,n),w(i,r),B(r,S(d))-(B(n,S(p))+B(e,S(m))+B(S(a),S(a)))%65536==0}},t});
